{"version":3,"sources":["GameScene.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAuC,6BAAY;IADnD;QAAA,qEA4EC;QAxEG,gBAAU,GAAc,IAAI,CAAC;QAE7B,iBAAW,GAAY,IAAI,CAAC;QAE5B,qBAAe,GAAc,IAAI,CAAC;QAElC,kBAAY,GAAc,IAAI,CAAC;;IAkEnC,CAAC;IAhEG,0BAAM,GAAN;IAEA,CAAC;IAED,yBAAK,GAAL;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAED,6BAAS,GAAT;QACI,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAED,0BAAM,GAAN;IACA,CAAC;IAEM,uCAAmB,GAA1B,UAA2B,OAAe;QAEtC,IAAI,OAAO,IAAI,EAAE,EAAE;YAAE,OAAO;SAAE;QAC9B,IAAI,IAAI,CAAC,WAAW,EACpB;YACI,IAAI,WAAW,GAAU,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,WAAW,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;SACzC;IACL,CAAC;IAEO,+BAAW,GAAnB;QACI,IAAI,OAAO,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC9C,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAC3B,OAAO,CAAC,SAAS,GAAG,WAAW,CAAA;QAC/B,OAAO,CAAC,OAAO,GAAG,uBAAuB,CAAC;QAC1C,OAAO,CAAC,eAAe,GAAG,eAAe,CAAC;QAC1C,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,WAAW,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAClD,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAC/B,WAAW,CAAC,SAAS,GAAG,WAAW,CAAA;QACnC,WAAW,CAAC,OAAO,GAAG,oBAAoB,CAAC;QAC3C,WAAW,CAAC,eAAe,GAAG,YAAY,CAAC;QAC3C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IACO,yCAAqB,GAA7B,UAA8B,KAAK,EAAE,eAAe;QAChD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,WAAW,GAAU,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,WAAW,CAAC,OAAO,EAAE,CAAC;SACzB;IACL,CAAC;IACO,sCAAkB,GAA1B,UAA2B,KAAK,EAAE,eAAe;QAC7C,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE;QAG9B,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,2BAAO,GAAf;QAEI,oFAAoF;QACpF,0DAA0D;QAC1D,MAAM;IACV,CAAC;IACO,2BAAO,GAAf;QAEI,EAAE,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IAC/B,CAAC;IAtED;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACS;IAE7B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACU;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACc;IAElC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;mDACW;IATd,SAAS;QAD7B,OAAO;OACa,SAAS,CA2E7B;IAAD,gBAAC;CA3ED,AA2EC,CA3EsC,EAAE,CAAC,SAAS,GA2ElD;kBA3EoB,SAAS","file":"","sourceRoot":"../../../../../assets/Script/Game","sourcesContent":["import Level from \"./Level\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class GameScene extends cc.Component {\n\n    @property(cc.Sprite)\n    background: cc.Sprite = null;\n    @property(cc.Node)\n    m_levelNode: cc.Node = null;\n    @property(cc.Button)\n    m_shuffleButton: cc.Button = null;\n    @property(cc.Button)\n    m_backButton: cc.Button = null;\n\n    onLoad() {\n\n    }\n\n    start () {\n        this.bindHandler();\n        this.playBGM();\n    }\n\n    onDestroy() {\n        this.stopBGM();\n    }\n\n    update() {\n    }\n\n    public updateLevelJSONData(jsonRes: string)\n    {\n        if (jsonRes == \"\") { return; }\n        if (this.m_levelNode)\n        {\n            let levelScript: Level = this.m_levelNode.getComponent(\"Level\");\n            levelScript.loadTileJsonData(jsonRes);\n        }\n    }\n\n    private bindHandler() {\n        let handler = new cc.Component.EventHandler();\n        handler.target = this.node;\n        handler.component = \"GameScene\"\n        handler.handler = \"shuffleButtonCallBack\";\n        handler.customEventData = \"ShuffleButton\";\n        this.m_shuffleButton.clickEvents.push(handler);\n        let handlerBack = new cc.Component.EventHandler();\n        handlerBack.target = this.node;\n        handlerBack.component = \"GameScene\"\n        handlerBack.handler = \"backButtonCallBack\";\n        handlerBack.customEventData = \"BackButton\";\n        this.m_backButton.clickEvents.push(handlerBack);\n    }\n    private shuffleButtonCallBack(event, customEventData) {\n        if (this.m_levelNode) {\n            let levelScript: Level = this.m_levelNode.getComponent(\"Level\");\n            levelScript.shuffle();\n        }\n    }\n    private backButtonCallBack(event, customEventData) {\n        cc.director.loadScene(\"Main\", function()\n        {\n            \n        });\n    }\n\n    private playBGM()\n    {\n        // cc.loader.loadRes(\"music/MiningByMoonlight\", cc.AudioClip, function (err, clip) {\n        //     var audioID = cc.audioEngine.playMusic(clip, true);\n        // });\n    }\n    private stopBGM()\n    {\n        cc.audioEngine.stopMusic();\n    }\n\n}\n"]}